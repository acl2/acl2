; C Library
;
; Copyright (C) 2021 Kestrel Institute (http://www.kestrel.edu)
; Copyright (C) 2021 Kestrel Technology LLC (http://kestreltechnology.com)
;
; License: A 3-clause BSD license. See the LICENSE file distributed with ACL2.
;
; Author: Alessandro Coglio (coglio@kestrel.edu)

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

(in-package "C")

(include-book "unsigned-chars")
(include-book "signed-ints")
(include-book "integer-conversions")

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

(defxdoc+ atc-integers
  :parents (atc-implementation)
  :short "A model of C integers for ATC."
  :long
  (xdoc::topstring
   (xdoc::p
    "In order to support the generation of proofs for
     the C code generated by ATC,
     we need a formal semantics for (the needed portion of) C.
     Here we provide an initial model of the semantics of C integers.")
   (xdoc::p
    "This model also provides a target for APT derivations.
     ATC recognizes the ACL2 functions that form this model
     and translates them to the corresponding C constructs.")
   (xdoc::p
    "This preliminary model may be extended in the future,
     and may be replaced by a more comprehensive model
     that we will be developing as part of the "
    (xdoc::seetopic "language" "language formalization")
    ".")
   (xdoc::p
    "We define fixtypes for various C integer values
     and functions for various C integer operations.
     When the exact result of an aritmetic operation on signed integers
     is not representable in the signed integer type,
     the behavior is undefined [C:6.5/5]:
     our functions for signed integer operations
     have guards requiring the results to be representable.
     For division and remainder,
     the guard also requires the divisor to be non-zero.
     The bitwise operations assume a two's complement representation;
     these operations depend on the representation of integers [C:6.5/4]."))
  :order-subtopics t)
